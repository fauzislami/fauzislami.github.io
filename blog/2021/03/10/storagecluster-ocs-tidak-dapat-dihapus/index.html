<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        :root {
            --accent-color: #FF4D4D;
        }
    </style>

    
    
    
    
    
    

    
    <title>StorageCluster OCS tidak dapat dihapus</title>
    <meta name="description" content="/home/fauzislami/blog">
    <meta name="keywords" content='blog, gokarna, hugo, ScratchpadOpenshift'>

    <meta property="og:url" content="https://fauzislami.github.io/blog/2021/03/10/storagecluster-ocs-tidak-dapat-dihapus/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="StorageCluster OCS tidak dapat dihapus">
    <meta property="og:description" content="/home/fauzislami/blog">
    <meta property="og:image" content="/images/logo-blog-oji.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="StorageCluster OCS tidak dapat dihapus">
    <meta name="twitter:description" content="/home/fauzislami/blog">
    <meta property="twitter:domain" content="https://fauzislami.github.io/blog/2021/03/10/storagecluster-ocs-tidak-dapat-dihapus/">
    <meta property="twitter:url" content="https://fauzislami.github.io/blog/2021/03/10/storagecluster-ocs-tidak-dapat-dihapus/">
    <meta name="twitter:image" content="/images/logo-blog-oji.png">

    
    <link rel="canonical" href="https://fauzislami.github.io/blog/2021/03/10/storagecluster-ocs-tidak-dapat-dihapus/" />

    <link rel="stylesheet" type="text/css" href="/css/normalize.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <link disabled id="dark-theme" rel="stylesheet" href="/css/dark.css">

    <script src="/js/svg-injector.min.js"></script>
    <script src="/js/feather-icons.min.js"></script>
    <script src="/js/main.js"></script>

    
    
        <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.16/dist/katex.min.css" integrity="sha384-6LkG2wmY8FK9E0vU9OOr8UvLwsaqUg9SETfpq4uTCN1agNe8HRdE9ABlk+fVx6gZ" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.16/dist/katex.min.js" integrity="sha384-31El76TwmbHj4rF9DyLsygbq6xoIobG0W+jqXim+a3dU9W53tdH3A/ngRPxOzzaB" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.16/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
  
    
</head>
<body>
        <script type="text/javascript">
            
            setThemeByUserPref();
        </script><header class="header">
    <nav class="header-nav">

        
        <div class="avatar">
            <a href="https://fauzislami.github.io/">
                <img src="/images/logo-blog-oji.png" alt="avatar" />
            </a>
        </div>
        

        <div class="nav-title">
            <a class="nav-brand" href="https://fauzislami.github.io/">Blog Â· Muhammad Fauzi Islami</a>
        </div>

        <div class="nav-links">
            
            <div class="nav-link">
                <a href="/"> Home </a>
            </div>
            
            <div class="nav-link">
                <a href="/posts/"> Posts </a>
            </div>
            
            <div class="nav-link">
                <a href="/thoughts/"> Thoughts </a>
            </div>
            
            <div class="nav-link">
                <a href="https://about.me/fauzislami"> About Me </a>
            </div>
            
            <div class="nav-link">
                <a href="/tags/"> Tags </a>
            </div>
            
            <div class="nav-link">
                <a href="https://github.com/fauzislami"><span data-feather='github'></span>  </a>
            </div>
            

            <span class="nav-icons-divider"></span>
            <div class="nav-link dark-theme-toggle">
                <a>
                    <span id="theme-toggle-icon" data-feather="moon"></span>
                </a>
            </div>

            <div class="nav-link" id="hamburger-menu-toggle">
                <a>
                    <span data-feather="menu"></span>
                </a>
            </div>

            
            <ul class="nav-hamburger-list visibility-hidden">
                
                <li class="nav-item">
                    <a href="/"> Home </a>
                </li>
                
                <li class="nav-item">
                    <a href="/posts/"> Posts </a>
                </li>
                
                <li class="nav-item">
                    <a href="/thoughts/"> Thoughts </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://about.me/fauzislami"> About Me </a>
                </li>
                
                <li class="nav-item">
                    <a href="/tags/"> Tags </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://github.com/fauzislami"><span data-feather='github'></span>  </a>
                </li>
                
                <li class="nav-item dark-theme-toggle">
                    <a>
                        <span id="theme-toggle-icon" data-feather="moon"></span>
                    </a>
                </li>
            </ul>

        </div>
    </nav>
</header>
<main id="content">
    <div class="post container">

    <div class="post-header-section">
        <h1>StorageCluster OCS tidak dapat dihapus</h1>
        <small role="doc-subtitle"></small>
        <p class="post-date">
            March 10, 2021
        </p>

        <ul class="post-tags">
        
            <li class="post-tag"><a href="/tags/scratchpadopenshift">ScratchpadOpenshift</a></li>
        
        </ul>
    </div>

    <div class="post-content">
        <p>
            <p>Ada kalanya keanehan terjadi ketika sedang mengerjakan tasks di project. Salah satu hal aneh tersebut yang penulis adalah menghapus sebuah objek yang tidak berhasil terhapus tanpa alasan yang diketahui sampai saat ini oleh penulis.</p>
<p><img src="/images/cannot-delete-storagecluster/1.jpeg" alt="Scratchpad" title="Scratchpad"></p>
<p>Setelah mencari-cari tahu cara menghapusnya secara paksa, cukup melakukan patch secara manual</p>
<pre tabindex="0"><code>oc patch -n openshift-storage storagecluster/ocs-storagecluster --type=merge -p '{&quot;metadata&quot;: {&quot;finalizers&quot;:null}}'
</code></pre><p>Pada command di atas , terlihat jelas <strong>finalizers</strong> dibuat valuenya menjadi <strong>null</strong>. Namun sebenarnya, sebelum mengeksekusi command tersebut penulis mencoba untuk melakukannya dengan mengedit <strong>StorageCluster</strong> tersebut secara manual dengan menggunakan perintah <em>oc edit storagecluster ocs-storagecluster</em>, lalu merubah value pada key <strong>finalizers</strong> menjajdi <strong>null</strong>, namun ketika konfigurasi tersebut disimpan tidak terjadi apa-apa dan StorageCluster tetap stuck pada status <strong>Deleting</strong>. Lalu setelah, barulah solusi di atas dieksekusi dan StorageCluster berhasil dihapus.</p>
<p>Semoga bermanfaat.</p>
        </p>
    </div>
</div>



    

        </main><footer class="footer">
    <span>&copy; 2022 Fauzi Islami</span>
</footer>
</body>
</html>
